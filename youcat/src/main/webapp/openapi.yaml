openapi: 3.1.0
info:
  title: user-managed TAP service (youcat)
  version: "1.0"
  description: This is more or less the current TAP-1.1 standard.
servers:
- url: /youcat
paths:
    /sync:
        $ref: ./paths/tap-sync.yaml

    /async:
        $ref: ./paths/tap-async.yaml
    /async/{jobID}:
        $ref: ./paths/uws-job.yaml
        #$ref: https://haproxy.cadc.dao.nrc.ca/site/vault/files/pdowler/openapi/uws-job.yaml
    /async/{jobID}/phase:
        $ref: ./paths/uws-job-phase.yaml
        #$ref: https://haproxy.cadc.dao.nrc.ca/site/vault/files/pdowler/openapi/uws-job-phase.yaml
    ## TODO: more resources under /async/{jobID}??

    /tables:
        $ref: ./paths/vosi-tableset.yaml
        #$ref: https://haproxy.cadc.dao.nrc.ca/site/vault/files/pdowler/openapi/vosi-tableset.yaml
    /tables/{name}:
        $ref: ./paths/vosi-table.yaml
        #$ref: https://haproxy.cadc.dao.nrc.ca/site/vault/files/pdowler/openapi/vosi-table.yaml

    /table-update:
        $ref: ./paths/tap-table-update.yaml
    /table-update/{jobID}:
        $ref: ./paths/uws-job.yaml
        #$ref: https://haproxy.cadc.dao.nrc.ca/site/vault/files/pdowler/openapi/uws-job.yaml
    /table-update/{jobID}/phase:
        $ref: ./paths/uws-job-phase.yaml
        #$ref: https://haproxy.cadc.dao.nrc.ca/site/vault/files/pdowler/openapi/uws-job-phase.yaml
    ## TODO: more resources under /table-update/{jobID}??
    
    /load/{name}:
        $ref: ./paths/tap-load.yaml

    ## TODO: set permissions
        
    /availability:
        $ref: ./paths/vosi-availability.yaml
        #$ref: https://haproxy.cadc.dao.nrc.ca/site/vault/files/pdowler/openapi/vosi-availability.yaml
    /capabilities:
        $ref: ./paths/vosi-capabilities.yaml
        #$ref: https://haproxy.cadc.dao.nrc.ca/site/vault/files/pdowler/openapi/vosi-capabilities.yaml
